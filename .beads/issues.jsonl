{"id":"dotfiles-458","title":"Dotfiles: shell DX cleanup (Atuin, rm→trash, paths, fzf-tab)","status":"closed","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T14:22:15.687996-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T17:12:51.456526-06:00","closed_at":"2026-02-02T17:12:51.456526-06:00","close_reason":"Refactored shell config into ~/.config/shell, ensured Ctrl-R uses Atuin, rm uses trash, removed flexoki remnants, and stopped git config side effects in shell.","comments":[{"id":7,"issue_id":"dotfiles-458","author":"Robert Claypool","text":"Clean up Zsh/Bash config for macOS-first + Omarchy second: ensure Ctrl-R is Atuin, Up-arrow stays simple history, rm routes to trash when available, fix PATH tilde/OS gating, add fzf-tab, remove flexoki remnants, and stop doing git config writes during shell init.","created_at":"2026-02-02T20:22:29Z"}]}
{"id":"dotfiles-4px","title":"Investigate Ghostty instability with Claude Code","description":"Two issues when Ghostty becomes unstable (possibly triggered by Claude Code TUI): 1) Tab auto-switching to last tab in a loop, 2) Scroll buffer snapping back to bottom. macOS Sequoia 15.6.1, M2 Max.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T14:49:18.399721-05:00","created_by":"rc","updated_at":"2026-02-02T17:12:51.664369-06:00","closed_at":"2026-02-02T17:12:51.664369-06:00","close_reason":"Ghostty/Claude instability mitigated via scrollback-limit and documented; bootstrap now supports installing Ghostty@tip for latest features.","comments":[{"id":1,"issue_id":"dotfiles-4px","author":"rc","text":"Research findings - Issue 2 (scroll snap-back) is a KNOWN Claude Code bug:\n- Issue #826 (498+ thumbs up): Scroll flashes to top and back every keystroke when history is long\n- Issue #9935: 4000-6700 scroll events/second causing jitter\n- Issue #1413: Jump to top then slow scroll down with long history\n- Issue #16040: Scrolls through entire history repeatedly on new prompt\nThis affects ALL terminals (iTerm2, VS Code, Warp, Ghostty, tmux). Not Ghostty-specific.","created_at":"2026-01-10T19:50:26Z"},{"id":2,"issue_id":"dotfiles-4px","author":"rc","text":"More Claude+Ghostty specific issues found:\n- #5939: Ghostty tab freezes with Claude after git commits (CLOSED)\n- #8421: Terminal flashes when Ghostty backgrounded (confirmed Claude bug)\n- #9658: Multiple Claude instances spawning, terminal flicker (v2.0.14-2.0.19)\n\nIssue 1 (tab auto-switching) - NOT FOUND in any tracker. Closest matches:\n- focus-follows-mouse bug (Ghostty #3229) but user doesn't have this enabled\n- Could be unique/unreported interaction between Claude's TUI and Ghostty tabs\n\nNEXT: Reproduce and report if still occurring","created_at":"2026-01-10T19:52:10Z"},{"id":3,"issue_id":"dotfiles-4px","author":"rc","text":"Current setup:\n- Ghostty 1.2.3 (latest stable, installed via brew cask, auto-updates)\n- macOS Sequoia 15.6.1, M2 Max\n\nWaiting for upstream fixes:\n- Scroll snap-back: Claude Code issue #826, #9935 (assigned to chrislloyd@anthropic)\n- Tab auto-switching: Not yet reported - need reproduction steps\n\nTo retest:\n1. Check Claude Code changelog for scroll/rendering fixes\n2. Check Ghostty releases for TUI/tab focus fixes\n3. If tab issue recurs, capture: Activity Monitor state, recent actions, whether killing Claude fixes it","created_at":"2026-01-10T20:36:07Z"},{"id":4,"issue_id":"dotfiles-4px","author":"rc","text":"CRASH ANALYSIS (actually a hang):\n- Event: hang, Duration: 1756s (29 min)\n- Footprint: 194.54 GB on 32GB machine (!!)\n- Main thread deadlocked in __ulock_wait2\n- Trigger: _windowBecameVisible notification handler in Ghostty\n\nRoot cause: Claude Code scroll event flood → massive scrollback buffer → memory exhaustion → Ghostty hangs when processing window visibility changes\n\nThis explains the tab switching issue: when trying to switch tabs, Ghostty processes window visibility notifications, but the memory-starved process deadlocks.\n\nMITIGATION: Reduce scrollback-limit from 10000000 to something sane like 50000","created_at":"2026-01-11T00:11:15Z"},{"id":5,"issue_id":"dotfiles-4px","author":"rc","text":"Bug report posted to anthropics/claude-code#9935. Config fix applied: scrollback-limit reduced to 50K.","created_at":"2026-01-11T02:08:57Z"},{"id":9,"issue_id":"dotfiles-4px","author":"Robert Claypool","text":"Follow-up: user wants to move to Ghostty nightly to access upcoming features (accepting stability tradeoff). Consider documenting/install option in bootstrap.","created_at":"2026-02-02T20:22:38Z"}]}
{"id":"dotfiles-7bm","title":"Set up Agentic Workbench tooling","description":"Configure beads, hooks, and reminders matching Caliber/Redacta patterns. Tasks: 1) Update .gitignore to track .claude/hooks and settings.json while ignoring local settings. 2) Create dotfiles-reminder.py hook adapted for config management work. 3) Create .claude/settings.json with hooks config. 4) Update CLAUDE.md with tooling docs. 5) Commit and push.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T12:56:54.508486-05:00","created_by":"rc","updated_at":"2026-01-10T13:00:37.08236-05:00","closed_at":"2026-01-10T13:00:37.08236-05:00","close_reason":"Completed: Initialized beads with direct mode, created dotfiles-reminder.py hook (simpler version focused on config management), created settings.json with hooks, updated .gitignore and CLAUDE.md. Committed as 41517d8."}
{"id":"dotfiles-9qc","title":"Dotfiles: bootstrap improvements (brew + Omarchy)","status":"closed","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T14:22:21.434561-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T17:12:51.568625-06:00","closed_at":"2026-02-02T17:12:51.568625-06:00","close_reason":"Bootstrap now uses Brewfile (brew bundle) on macOS and pacman installs on Omarchy/Arch; added Ghostty channel control and safer symlinks.","comments":[{"id":8,"issue_id":"dotfiles-9qc","author":"Robert Claypool","text":"Improve bootstrap story: macOS uses Homebrew; Linux assumes Omarchy (Arch/pacman). Make installs reliable (command↔package mapping), and document optional Ghostty nightly install path.","created_at":"2026-02-02T20:22:33Z"}]}
{"id":"dotfiles-bg9","title":"Dotfiles: remove yabai/skhd + Hammerspoon","status":"closed","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T14:22:10.882156-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T17:12:51.360321-06:00","closed_at":"2026-02-02T17:12:51.360321-06:00","close_reason":"Removed yabai/skhd LaunchAgents and Hammerspoon from repo and bootstrap; cleaned docs.","comments":[{"id":6,"issue_id":"dotfiles-bg9","author":"Robert Claypool","text":"User no longer uses yabai/skhd or Hammerspoon; wants them removed from repo + bootstrap + docs to simplify macOS setup.","created_at":"2026-02-02T20:22:26Z"}]}
{"id":"dotfiles-bng","title":"Shell polish: Catppuccin theme + fzf-tab","description":"Make CLI theming consistent with Catppuccin (fzf + bat, optionally delta) and add a small fzf-tab zstyle block for better completion UX.","status":"closed","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T22:54:35.318529-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T22:55:26.421445-06:00","closed_at":"2026-02-02T22:55:26.421445-06:00","close_reason":"Added Catppuccin Mocha theming for fzf + bat and a small fzf-tab zstyle block for a nicer completion UI."}
{"id":"dotfiles-jeh","title":"Polish: Catppuccin Starship + Zsh plugin order + remove DS_Store","description":"1) Update starship to Catppuccin Mocha palette. 2) Ensure zsh-syntax-highlighting loads last. 3) Remove tracked .DS_Store files.","status":"closed","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T23:43:31.472096-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T23:45:16.925937-06:00","closed_at":"2026-02-02T23:45:16.925937-06:00","close_reason":"Updated Starship to Catppuccin Mocha palette, ensured zsh-syntax-highlighting loads last, and removed local .DS_Store artifacts."}
{"id":"dotfiles-qwh","title":"Bootstrap: harden Ghostty channel switch","description":"Avoid uninstalling stable Ghostty before confirming ghostty@tip installs; add rollback so a failed install doesn't leave no Ghostty app.","status":"closed","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T22:54:35.430533-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T22:55:26.509088-06:00","closed_at":"2026-02-02T22:55:26.509088-06:00","close_reason":"Hardened Ghostty channel switch in bootstrap with rollback so a failed install doesn't leave Ghostty uninstalled."}
{"id":"dotfiles-s78","title":"Add bin/check quality gates + shfmt/shellcheck + lazygit","description":"Add a repo quality gate command (bin/check) that runs bash/zsh syntax checks, shellcheck, and shfmt; add shellcheck+shfmt to Brewfile and Omarchy pacman list; add lazygit to Brewfile.","status":"in_progress","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T23:57:56.486688-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T23:57:59.794085-06:00"}
{"id":"dotfiles-uu1","title":"Docs: update README shell config paths","status":"closed","priority":3,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T17:23:59.85018-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T17:24:14.526928-06:00","closed_at":"2026-02-02T17:24:14.526928-06:00","close_reason":"Updated README to point to ~/.config/shell and ~/.local_aliases.","comments":[{"id":10,"issue_id":"dotfiles-uu1","author":"Robert Claypool","text":"README still references ~/.bashrc_shared and ~/.bash_aliases for aliases/functions; update to the new ~/.config/shell layout.","created_at":"2026-02-02T23:24:03Z"}]}
{"id":"dotfiles-ysu","title":"Fix z command (zoxide init)","description":"After shell refactor, zoxide init was removed so the z command no longer works in zsh. Restore zoxide init (and bash init for parity) and ship.","status":"closed","priority":2,"issue_type":"task","owner":"robert-claypool@outlook.com","created_at":"2026-02-02T20:40:24.596299-06:00","created_by":"Robert Claypool","updated_at":"2026-02-02T20:41:33.817888-06:00","closed_at":"2026-02-02T20:41:33.817888-06:00","close_reason":"Restored zoxide init in zsh (and bash) so the z command works again."}
